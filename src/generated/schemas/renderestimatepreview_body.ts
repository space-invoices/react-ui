/**
 * This file was automatically generated using 'bun generate-schemas'.
 * Do not edit this file manually. To update, run the generator again.
 * @generated
 */

import { z } from 'zod';

// Schemas for renderestimatepreview_body endpoints

// Dependency schema for renderestimatepreview_body
const DocumentEntity = z
  .object({
    name: z.union([z.string(), z.null()]),
    email: z.union([z.string(), z.null()]),
    address: z.union([z.string(), z.null()]),
    address_2: z.union([z.string(), z.null()]),
    post_code: z.union([z.string(), z.null()]),
    city: z.union([z.string(), z.null()]),
    state: z.union([z.string(), z.null()]),
    country: z.union([z.string(), z.null()]),
    country_code: z.union([z.string(), z.null()]),
    tax_number: z.union([z.string(), z.null()]),
    tax_number_2: z.union([z.string(), z.null()]),
    company_number: z.union([z.string(), z.null()]),
    bank_account: z.union([
      z
        .object({
          type: z
            .enum(["iban", "us_domestic", "uk_domestic", "other"])
            .default("iban"),
          name: z.string(),
          bank_name: z.string(),
          iban: z.string(),
          account_number: z.string(),
          bic: z.string(),
          routing_number: z.string(),
          sort_code: z.string(),
        })
        .partial()
        .passthrough(),
      z.null(),
    ]),
  })
  .partial()
  .passthrough();


// Dependency schema for renderestimatepreview_body
const CreateDocumentCustomer = DocumentEntity.and(
  z.union([
    z
      .object({ save_customer: z.boolean().default(true) })
      .partial()
      .passthrough(),
    z.null(),
  ])
);


// Dependency schema for renderestimatepreview_body
const PartialEstimatePreview = z.object({
  is_draft: z.boolean().optional(),
  date: z
    .string()
    .regex(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/)
    .optional(),
  issuer: DocumentEntity.optional(),
  customer_id: z.union([z.string(), z.null()]).optional(),
  customer: CreateDocumentCustomer.optional(),
  note: z.union([z.string(), z.null()]).optional(),
  payment_terms: z.union([z.string(), z.null()]).optional(),
  tax_clause: z.union([z.string(), z.null()]).optional(),
  currency_code: z.string().max(3).optional(),
  metadata: z.union([z.record(z.string(), z.any()), z.null()]).optional(),
  date_valid_till: z.union([z.string(), z.null()]).optional(),
  title_type: z.union([z.enum(["estimate", "quote"]), z.null()]).optional(),
  date_due: z.union([z.string(), z.null()]).optional(),
  date_service: z.union([z.string(), z.null()]).optional(),
  date_service_to: z.union([z.string(), z.null()]).optional(),
  items: z
    .array(
      z
        .object({
          name: z.string(),
          quantity: z.number(),
          price: z.number(),
          gross_price: z.number(),
          description: z.string(),
          taxes: z.array(
            z
              .object({ rate: z.number(), tax_id: z.string() })
              .partial()
              .passthrough()
          ),
          metadata: z.record(z.string(), z.any()),
        })
        .partial()
        .passthrough()
    )
    .min(1),
  expected_total_with_tax: z.number().gt(0).optional(),
});


// Dependency schema for renderestimatepreview_body
const DocumentItemTax = z
  .object({
    rate: z.number(),
    tax_id: z.string(),
    classification: z.string(),
    reverse_charge: z.boolean(),
    amount: z.number(),
  })
  .partial();


// Dependency schema for renderestimatepreview_body
const LineDiscount = z.object({
  value: z.number().gte(0),
  type: z.enum(["percent", "amount"]).optional().default("percent"),
});


// Dependency schema for renderestimatepreview_body
const CreateDocumentItem = z.object({
  name: z.string().min(1).optional(),
  description: z.union([z.string(), z.null()]).optional(),
  price: z.number().optional(),
  gross_price: z.number().optional(),
  quantity: z.number().gte(-140737488355328).lte(140737488355327),
  unit: z.union([z.string(), z.null()]).optional(),
  taxes: z.array(DocumentItemTax).optional(),
  discounts: z.array(LineDiscount).max(5).optional(),
  metadata: z
    .union([
      z.string(),
      z.number(),
      z.boolean(),
      z.null(),
      z.object({}).partial().passthrough(),
      z.array(z.unknown()),
      z.null(),
    ])
    .optional(),
  item_id: z.string().optional(),
});


// Dependency schema for renderestimatepreview_body
const CompleteEstimatePreview = z.object({
  is_draft: z.boolean().optional(),
  date: z
    .string()
    .regex(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/)
    .optional(),
  issuer: DocumentEntity.optional(),
  customer_id: z.union([z.string(), z.null()]).optional(),
  customer: CreateDocumentCustomer.optional(),
  note: z.union([z.string(), z.null()]).optional(),
  payment_terms: z.union([z.string(), z.null()]).optional(),
  tax_clause: z.union([z.string(), z.null()]).optional(),
  currency_code: z.string().max(3).optional(),
  metadata: z.union([z.record(z.string(), z.any()), z.null()]).optional(),
  date_valid_till: z.union([z.string(), z.null()]).optional(),
  title_type: z.union([z.enum(["estimate", "quote"]), z.null()]).optional(),
  date_due: z.union([z.string(), z.null()]).optional(),
  date_service: z.union([z.string(), z.null()]).optional(),
  date_service_to: z.union([z.string(), z.null()]).optional(),
  items: z.array(CreateDocumentItem).min(1),
  expected_total_with_tax: z.number().gt(0).optional(),
});


// Schema for render estimatepreview operation
const renderEstimatePreviewSchemaDefinition = z.union([
  PartialEstimatePreview,
  CompleteEstimatePreview,
]);

// Type for render estimatepreview operation
export type RenderEstimatePreviewSchema = z.infer<typeof renderEstimatePreviewSchemaDefinition>;

export const renderEstimatePreviewSchema = renderEstimatePreviewSchemaDefinition;
