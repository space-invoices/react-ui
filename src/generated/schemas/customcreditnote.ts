/**
 * This file was automatically generated using 'bun generate-schemas'.
 * Do not edit this file manually. To update, run the generator again.
 * @generated
 */

import { z } from 'zod';

// Schemas for customcreditnote endpoints

// Dependency schema for customcreditnote
const LineDiscount = z.object({
  value: z.number().gte(0),
  type: z.enum(["percent", "amount"]).optional().default("percent"),
});


// Dependency schema for customcreditnote
const DocumentItemTax = z
  .object({
    rate: z.number(),
    tax_id: z.string(),
    classification: z.string(),
    reverse_charge: z.boolean(),
    amount: z.number(),
  })
  .partial();


// Dependency schema for customcreditnote
const FinaFiscalizationResponse = z.union([
  z
    .object({
      status: z.enum(["pending", "success", "failed"]),
      fiscalized_at: z.string().datetime({ offset: true }).optional(),
      error: z.string().optional(),
      data: z
        .object({
          zki: z.string(),
          jir: z.string().optional(),
          qr_code_url: z.string().optional(),
          premise_id: z.string(),
          device_id: z.string(),
          invoice_number: z.string(),
          operator_oib: z.string().optional(),
          payment_type: z.string().optional(),
          numbering_sequence: z.string().optional(),
          payload: z.object({}).partial().passthrough(),
          subsequent_submit: z.boolean().optional(),
          issuer_oib: z.string().optional(),
          operator_label: z.string().optional(),
        })
        .passthrough()
        .optional(),
    })
    .passthrough(),
  z.null(),
]);


// Dependency schema for customcreditnote
const DocumentSummaryTax = z
  .object({
    rate: z.number(),
    base: z.number(),
    amount: z.number(),
    reverse_charge: z.boolean().optional(),
  })
  .passthrough();


// Dependency schema for customcreditnote
const DocumentEntity = z
  .object({
    name: z.union([z.string(), z.null()]),
    email: z.union([z.string(), z.null()]),
    address: z.union([z.string(), z.null()]),
    address_2: z.union([z.string(), z.null()]),
    post_code: z.union([z.string(), z.null()]),
    city: z.union([z.string(), z.null()]),
    state: z.union([z.string(), z.null()]),
    country: z.union([z.string(), z.null()]),
    country_code: z.union([z.string(), z.null()]),
    tax_number: z.union([z.string(), z.null()]),
    tax_number_2: z.union([z.string(), z.null()]),
    company_number: z.union([z.string(), z.null()]),
    bank_account: z.union([
      z
        .object({
          type: z
            .enum(["iban", "us_domestic", "uk_domestic", "other"])
            .default("iban"),
          name: z.string(),
          bank_name: z.string(),
          iban: z.string(),
          account_number: z.string(),
          bic: z.string(),
          routing_number: z.string(),
          sort_code: z.string(),
        })
        .partial()
        .passthrough(),
      z.null(),
    ]),
  })
  .partial()
  .passthrough();


// Schema for create customcreditnote operation
const createCustomCreditNoteSchemaDefinition = z.object({
  is_draft: z.boolean().optional(),
  date: z
    .string()
    .regex(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/)
    .optional(),
  issuer: DocumentEntity.optional(),
  customer_id: z.union([z.string(), z.null()]).optional(),
  customer: DocumentEntity.and(
    z.union([
      z
        .object({ save_customer: z.boolean().default(true) })
        .partial()
        .passthrough(),
      z.null(),
    ])
  ).optional(),
  note: z.union([z.string(), z.null()]).optional(),
  payment_terms: z.union([z.string(), z.null()]).optional(),
  tax_clause: z.union([z.string(), z.null()]).optional(),
  total: z.number(),
  total_with_tax: z.number(),
  taxes: z.array(DocumentSummaryTax).optional(),
  currency_code: z.string().max(3).optional(),
  metadata: z.union([z.record(z.string(), z.any()), z.null()]).optional(),
  fina: FinaFiscalizationResponse.optional(),
  date_due: z.union([z.string(), z.null()]).optional(),
  date_service: z.union([z.string(), z.null()]).optional(),
  date_service_to: z.union([z.string(), z.null()]).optional(),
  items: z
    .array(
      z.object({
        name: z.string().min(1).optional(),
        description: z.union([z.string().max(4000, "Description must not exceed 4000 characters"), z.null()]).optional(),
        price: z.number().optional(),
        gross_price: z.number().optional(),
        quantity: z.number().gte(-140737488355328).lte(140737488355327),
        unit: z.union([z.string(), z.null()]).optional(),
        taxes: z.array(DocumentItemTax).optional(),
        discounts: z.array(LineDiscount).max(5).optional(),
        total: z.number(),
        total_with_tax: z.number(),
        metadata: z
          .union([
            z.string(),
            z.number(),
            z.boolean(),
            z.null(),
            z.object({}).partial().passthrough(),
            z.array(z.unknown()),
            z.null(),
          ])
          .optional(),
        item_id: z.string().optional(),
      })
    )
    .min(1),
  linked_documents: z.array(z.string().min(1)).optional(),
  payment: z
    .union([
      z.object({
        amount: z.number().gt(0).optional(),
        type: z.string().max(20),
        date: z.string().optional(),
        reference: z.union([z.string(), z.null()]).optional(),
        note: z.union([z.string(), z.null()]).optional(),
        metadata: z.union([z.record(z.string(), z.any()), z.null()]).optional(),
      }),
      z.null(),
    ])
    .optional(),
  furs: z
    .union([
      z
        .object({
          business_premise_name: z.string().min(1),
          electronic_device_name: z.string().min(1),
          operator_tax_number: z.string(),
          operator_label: z.string(),
          skip: z.boolean(),
        })
        .partial(),
      z.null(),
    ])
    .optional(),
  eslog: z
    .union([
      z
        .object({ validation_enabled: z.union([z.boolean(), z.null()]) })
        .partial()
        .passthrough(),
      z.null(),
    ])
    .optional(),
});

// Type for create customcreditnote operation
export type CreateCustomCreditNoteSchema = z.infer<typeof createCustomCreditNoteSchemaDefinition>;

export const createCustomCreditNoteSchema = createCustomCreditNoteSchemaDefinition;
