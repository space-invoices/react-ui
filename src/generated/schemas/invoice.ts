/**
 * This file was automatically generated using 'bun generate-schemas'.
 * Do not edit this file manually. To update, run the generator again.
 * @generated
 */

import { z } from 'zod';

// Schemas for invoice endpoints

// Dependency schema for invoice
const LineDiscount = z.object({
  value: z.number().gte(0),
  type: z.enum(["percent", "amount"]).optional().default("percent"),
});


// Schema for update invoice operation
const updateInvoiceSchemaDefinition = z
  .object({
    number: z.string().max(100),
    is_draft: z.boolean(),
    date: z
      .string()
      .regex(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/),
    issuer: z
      .object({
        name: z.union([z.string(), z.null()]),
        email: z.union([z.string(), z.null()]),
        address: z.union([z.string(), z.null()]),
        address_2: z.union([z.string(), z.null()]),
        post_code: z.union([z.string(), z.null()]),
        city: z.union([z.string(), z.null()]),
        state: z.union([z.string(), z.null()]),
        country: z.union([z.string(), z.null()]),
        country_code: z.union([z.string(), z.null()]),
        tax_number: z.union([z.string(), z.null()]),
        bank_account: z.union([
          z
            .object({
              type: z
                .enum(["iban", "us_domestic", "uk_domestic", "other"])
                .default("iban"),
              name: z.string(),
              bank_name: z.string(),
              iban: z.string(),
              account_number: z.string(),
              bic: z.string(),
              routing_number: z.string(),
              sort_code: z.string(),
            })
            .partial()
            .passthrough(),
          z.null(),
        ]),
      })
      .partial()
      .passthrough(),
    customer_id: z.union([z.string(), z.null()]),
    customer: z.union([
      z
        .object({
          name: z.union([z.string(), z.null()]),
          email: z.union([z.string(), z.null()]),
          address: z.union([z.string(), z.null()]),
          address_2: z.union([z.string(), z.null()]),
          post_code: z.union([z.string(), z.null()]),
          city: z.union([z.string(), z.null()]),
          state: z.union([z.string(), z.null()]),
          country: z.union([z.string(), z.null()]),
          country_code: z.union([z.string(), z.null()]),
          tax_number: z.union([z.string(), z.null()]),
          bank_account: z.union([
            z
              .object({
                type: z
                  .enum(["iban", "us_domestic", "uk_domestic", "other"])
                  .default("iban"),
                name: z.string(),
                bank_name: z.string(),
                iban: z.string(),
                account_number: z.string(),
                bic: z.string(),
                routing_number: z.string(),
                sort_code: z.string(),
              })
              .partial()
              .passthrough(),
            z.null(),
          ]),
          save_customer: z.boolean().default(true),
        })
        .partial()
        .passthrough(),
      z.null(),
    ]),
    note: z.union([z.string(), z.null()]),
    payment_terms: z.union([z.string(), z.null()]),
    currency_code: z.string().max(3),
    metadata: z.union([z.record(z.string(), z.any()), z.null()]),
    date_due: z.union([z.string(), z.null()]),
    date_service: z.union([z.string(), z.null()]),
    date_service_to: z.union([z.string(), z.null()]),
    items: z
      .array(
        z.object({
          name: z.string().min(1),
          description: z.union([z.string().max(4000, "Description must not exceed 4000 characters"), z.null()]).optional(),
          price: z.number().optional(),
          gross_price: z.number().optional(),
          quantity: z.number().gte(-140737488355328).lte(140737488355327),
          unit: z.union([z.string(), z.null()]).optional(),
          taxes: z
            .array(
              z
                .object({
                  rate: z.number(),
                  tax_id: z.string(),
                  classification: z.string(),
                  reverse_charge: z.boolean(),
                  amount: z.number(),
                })
                .partial()
            )
            .optional(),
          discounts: z.array(LineDiscount).max(5).optional(),
          metadata: z
            .union([
              z.string(),
              z.number(),
              z.boolean(),
              z.null(),
              z.object({}).partial().passthrough(),
              z.array(z.unknown()),
              z.null(),
            ])
            .optional(),
        })
      )
      .min(1),
    linked_documents: z.array(z.string().min(1)),
    eslog: z.union([
      z
        .object({ validation_enabled: z.union([z.boolean(), z.null()]) })
        .partial()
        .passthrough(),
      z.null(),
    ]),
    change_reason: z.string().max(500),
  })
  .partial();

// Type for update invoice operation
export type UpdateInvoiceSchema = z.infer<typeof updateInvoiceSchemaDefinition>;

export const updateInvoiceSchema = updateInvoiceSchemaDefinition;

// Schema for create invoice operation (same as update but without number and change_reason)
const createInvoiceSchemaDefinition = updateInvoiceSchemaDefinition.omit({
  number: true,
  change_reason: true,
});

// Type for create invoice operation
export type CreateInvoiceSchema = z.infer<typeof createInvoiceSchemaDefinition>;

export const createInvoiceSchema = createInvoiceSchemaDefinition;
